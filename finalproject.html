<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Visualizing Mitochondrial Variation in Polluted Habitsts</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js">  
</script>
<style type="text/css">
</style>
</head>


<body>
<h2>Visualizing Mitochondrial Variation in Polluted Habitats</h2>
<p><font face='Times'>By J.C.B. Nunez</font> </p>
<p> <font face='Times'>This visualization looks at fish genetics in relationship to pollution levels </font></p>

<h2>Global Estimates</h2>
 <table style="width:100%">
  <tr>
    <td><h3 class = "Poll_stats"> Sediment Pollution Exposure </h3></td>
    <td><h3 class = "LC50_stats">  Resistance Phenotype - LC50 (Nacci et. al 2002)</h3></td>		
    <td><h3 class = "Pi_G"> Global Nucleotide Diversity </h3></td>
  </tr>
</table>
<h2>Gene-by-Gene Estimates</h2>
 <table style="width:100%">
  <tr>
    <td><h3 class = "ND1"> ND1 </h3></td>
    <td><h3 class = "ND2">  ND2 </h3></td>		
    <td><h3 class = "ND3"> ND3 </h3></td>
    <td><h3 class = "ND4"> ND4 </h3></td>
    <td><h3 class = "ND4L"> ND4L </h3></td>
    <td><h3 class = "ND5">  ND5</h3></td>		
    <td><h3 class = "ND6"> ND6 </h3></td>
    <td><h3 class = "COI"> COI</h3></td>		
    <td><h3 class = "COII"> COII </h3></td>
    <td><h3 class = "COIII"> COIII</h3></td>
    <td><h3 class = "ATP6">  ATP6</h3></td>		
    <td><h3 class = "ATP8"> ATP8</h3></td>
    <td><h3 class = "CYB"> CYTB </h3></td>
    <td><h3 class = "rRNA-12">  rRNA-12 </h3></td>		
    <td><h3 class = "rRNA-16"> rRNA-16 </h3></td>
  </tr>
</table>



<script>

var w = 500,
    h = 350-80;
var padding = 50;

var dataset = [

["NBH",	w+(w*0.50),	h-(h*0.36),	[[0.361553521, 0.04317057], [0.323779273, 0.107926424]]]


];

var maxG = d3.max(dataset, function(d) {return (d[3][0][0])+(d[3][0][1]);});
var minG = d3.min(dataset, function(d) {return (d[3][0][0])+(d[3][0][1]);});



var colors = { "NBH":"red", "SYC":"yellow", "P":"brown", "F":"orange", "H":"salmon", "SR":"blue", "M":"darkblue", "NBH_SE":"grey", "SYC_SE":"grey", "P_SE":"grey", "F_SE":"grey", "H_SE":"grey", "SR_SE":"grey", "M_SE":"grey" };

 var drawbox = d3.select("body").append("svg")
    .attr("width", (w*2)) 
    .attr("height", (h*2));


var g = drawbox.append("g");

var img = g.append("svg:image")
    .attr("xlink:href", "https://github.com/Jcbnunez/finalproject/blob/master/NBH_Sites_Map.png?raw=true")
    .attr("width", w*2)
    .attr("height", h*2);

  //x,y coordinates for populations
  //Cline -> x = w-(w*0.55), y = h-(h*0.32)
  //NBH ->  x = w+(w*0.50), y = h-(h*0.36)
  //SYC -> x = w+(w*0.50), y = h-(h*0.20)
  //P -> x =  w+ (w*0.546), y = h - (h*0.14)
  //F -> x = w + (w*0.6), y = h + (h*0.07)
  //H -> x = w + (w*0.76), y =  h + (h*0.07)
  //M -> x = w - (w*0.15), y = h - (h*0.36)
  //SR -> x = w - (w*0.75), y = h + (h*0.50)

var r_scale = d3.scale.linear()
		.domain([minG, maxG])
		.range([10, 100]); 


drawbox.selectAll("circle")
	.data(dataset)
	.enter()
	.append("circle")
	.attr("cx", function(d) {return d[1];})
	.attr("cy", function(d) {return d[2];})
	.attr("r", function(d) {return r_scale(d[3][0][0]);})
	.attr("fill", function(d) {return colors[d[0]];})
	.attr("opacity", 1);



 </script>
 </body>

